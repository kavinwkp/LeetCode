## 2.4 浮点数

### 2.4.1 浮点数表示

$V = (-1)^S \times M \times 2^E$

![](https://github.com/kavinwkp/blogimage/raw/main/img/cs/2/2.3/double.png)

`float`占4个字节，32位，分成3段

>+ 最高位表示符号位S，S为0表示正数，S为1表示负数
>+ 23位到30位是阶码，共8位
>+ 0到22位是尾数，共23位

`double`占8个字节，64位，也是分成3段

>+ 最高位表示符号位S，S为0表示正数，S为1表示负数
>+ 52位到62位是阶码，共11位
>+ 0到51位是尾数，共52位

+ 当阶码字段的二进制不全为0，也不全为1时，表示的是规格化的值
+ 当阶码字段全为0时，表示非规格化的值
+ 当阶码字段全为1时，表示特殊值
    + 尾数全为0，表示无穷大或无穷小
    + 尾数不为0，表示“不是一个数”

#### 规格化的值

![](https://github.com/kavinwkp/blogimage/raw/main/img/cs/2/2.3/1.png)

用$e$来表示阶码字段的二进制数，范围是$0000 0001 \sim 11111110, e_{min}=1, e_{max}=254$
$$
E = e - bias
$$
偏置量的值与阶码的位数相关
$$
bias(float) = 2^{8-1}-1 = 127 \\
bias(double) = 2^{11-1}-1 = 1023
$$

所以，阶码的范围是：$E_{min} = -126, E_{max} = 127$

$f$表示尾数字段的二进制数，尾数$M = 1 + f$

#### 非规格化的值

![](https://github.com/kavinwkp/blogimage/raw/main/img/cs/2/2.3/2.png)

>阶码字段的值全为0

可以表示0：
$$
s=0, M=f=0, V=+0.0 \\
s=1, M=f=0, V=-0.0
$$

可以表示非常接近0的数，计算公式跟规格化的不一样

$$
E = 1 - bias \\
M = f
$$

#### 特殊值

![](https://github.com/kavinwkp/blogimage/raw/main/img/cs/2/2.3/3.png)

>阶码全为1，尾数全为0

可以表示正无穷大和负无穷大
$$
s=0, f=0, V=+\infty \\
s=1, f=0, V=-\infty
$$

也可以表示$NaN$
阶码字段全为1，尾数字段不为0




