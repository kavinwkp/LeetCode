## 模板实参推断

### 16.2.1 类型转换与模板类型参数

函数模板只有两种情况的类型转换

1. const转换：可以将一个非const对象的引用（或指针）传递给一个const的引用（或指针）形参
2. 数组或函数指针转换：如果函数实参不是引用类型，则可以对数组或函数类型的实参应用正常的指针转换


```cpp
template<typename T> T fobj(T, T);
template<typename T> T fref(const T&, const T&);

string s1("a value");
const string s2("another value");
fobj(s1, s2);   // 调用fobj(string, string)
fref(s1, s2);   // 调用fref(const string&, const string&)
```

fobj是按值传递，需要对实参进行拷贝，所以实参是不是const都可以
fref是按引用传递，将非const的s1转换为const是允许的

```cpp
int a[10], b[42];
fobj(a, b); // 调用fobj(int*, int*)
fref(a, b); // 错误，数组类型不同
```

两个数组大小不同，所以是不同类型
调用fobj时，数组被转换为指针，所以大小不同没关系
调用fref时，因为形参是引用，所以数组不会被转换为指针，大小又不一样，所以调用失败